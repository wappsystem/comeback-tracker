<div id=D__ID>
	<!--third html start -->
	<div class="container mt-95">
		<!-- form container start -->
		<div class="formbox">
			<!-- form start -->
			<form id="F__ID">
				<span id=title__ID></span>
				<!-- form-design name and study id -->
				<div class="formgroup">
					<fieldset class="">
						<div class="grid-container-2">
							<div><label><span class="question">System ID</span>
									<input type=text id="record__ID" class=formcontrol readonly />
								</label>
							</div>
							<div><label><span class="question">Product Name</span>
								<input type=text name="Product_Name" class="formcontrol width_80" />
							</label>
						</div>
					</div>
					</fieldset>
				</div>
				<!--<div class="formgroup">
					<label><span class="question">Characteristics</span></label><br>
					<u style='cursor:pointer;' id=item_a_add__ID><i class="fa fa-plus"></i> <span>Add
							Characteristic</span></u>
					<table id=grid_item_a__ID></table>
				</div>-->
				<div class="formgroup">
					<div class="questiongroup ">
						<fieldset class="">
							<span class="question">Format </span>
							<div class="grid-container-3">
								<div>
									<input id="Format_0__ID" name="Format" type="radio" value="Tablets">
									<label id="Format_button_text_0__ID" class="rd_btn width_80 "
										for="Format_0__ID">Tablets</label>
								</div>
								<div>
									<input id="Format_1__ID" name="Format" type="radio" value="Powder">
									<label id="Format_button_text_1__ID" class="rd_btn width_80 "
										for="Format_1__ID">Powder</label>
								</div>
								<div>
									<input id="Format_2__ID" name="Format" type="radio" value="Fluid">
									<label id="Format_button_text_2__ID" class="rd_btn width_80 "
										for="Format_2__ID">Fluid</label>
								</div>
								<div id="powder_show__ID">
									<div class="align-centre">
										<span> 1 Tsp= &nbsp;</span>
											<input type="number" min=1 step="1" name="Tbsp_to_grams" class="formcontrol" style="width:50px" />
										<span>&nbsp;grams</span>
									</div>
								</div>
							</div>
						</fieldset>
					</div>
				</div>
				<div class="formgroup">
					<fieldset class="">
						<div class="grid-container-3">
							<div>
								<label><span class="question">Location Front Storage</span>
									<input type=text name="Location_FS" class="formcontrol width_80" />
								</label>
							</div>
							<div>
								<label><span class="question">Location Back Storage</span>
									<input type=text name="Location_BS" class="formcontrol width_80" />
								</label>
							</div>
							<div>
								<label><span class="question">Warning Level for Alert</span>
									<input type=text name="Warning_Level" class="formcontrol width_80" />
								</label>
							</div>
						</div>
					</fieldset>
				</div>
				<div class="formgroup">
					<fieldset class="">
						<div class="grid-container-2">
							<div><label><span class="question">Supplier</span>
									<input type=text name="Supplier" id="Supplier__ID" class="formcontrol width_80" />
								</label>
							</div>
							<div><label><span class="question">Supplier ID</span>
									<input type=text name="Supplier_uid" class="formcontrol width_80" readonly />
								</label>
							</div>
						</div>
					</fieldset>
				</div>
				<!--<div class="formgroup">
					<fieldset class="">
						<div class="grid-container-1">
							<div><label><span class="question">Stocktake date (Startpoint for calculating stock) </span>
									<input type=date name="Stocktake_date" class="formcontrol" />
								</label>
							</div>
						</div>
					</fieldset>
				</div>-->

				<div class="formgroup right">
					<button type="submit" id="submit__ID" class="btn">Submit</button>
				</div>
			</form>
		</div>
	</div>
	<script>
		function F__ID() {
			//-------------------------------------
			VmInclude: '__HOST__/assets/js/form.01.js'
			//-------------------------------------
			var load = m.load;
			m.load = function () {
				load();
				if ($("input[name='Format']:checked").val() == 'Powder') $('#powder_show__ID').show();
				else {
					$('#powder_show__ID').hide();
					$('#F__ID input[name=Tbsp_to_grams]').val("");
				}
				//-------item a part
//				m.item_a_records = []; if (m.input.record != undefined) m.item_a_records = m.input.record.Data.items_a;
//				m.item_a_render();
				//-------item a part
			}
			//----------------------------------
			$("input[name='Format']").change(function () {
				if ($("input[name='Format']:checked").val() == 'Powder') $('#powder_show__ID').show();
				else {
					$('#powder_show__ID').hide();
					$('#F__ID input[name=Tbsp_to_grams]').val("");
				}
			})
			//item a part
			m.item_a_fields = "Characteristic,Comments,_Remove";
			//----------------------------------
			//$('#item_a_add__ID').on('click', function () { m.item_a_add(); })
			//----------------------------------
			m.item_a_cell_render = function (records, I, field, td, set_value, source) {
			}
			//----------------------------------
			m.item_a_after_change = function (records, I, field, td, set_value, source) {
				//console.log(JSON.stringify(records))
			}
			//----------------------------------
			m.item_a_after_remove = function () {
				//cal();
			}
			//----------------------------------

			m.before_submit = function (data, index) {
				//if (m.item_a_records != undefined) data.items_a = m.item_a_get_data();
				//index.I1 = parseInt(data.Stock_ID)
				index.I2 = data.Product_Name;
				index.I3 = data.Format;
				//index.I4 = data.Stocktake_date;
			}
			//-------------------------------------
			//auto select client
			var get_name = function (record) {
				var name = record.Data.Supplier_Name;
				return name;
			}
			var get_client_info = function (record) {
				var name = record.Data.Supplier_Name
				name += "|" + record.Data.Contact_person + " " + record.Data.Phone_number;
				return name;
			}
			var autocomplete_req_1 = { cmd: "find", field: ".I1", table: m.client_table, options: {}, skip: 0, limit: 10 }
			var autocomplete_callback_1 = function (items) { $("#F__ID input[name=Supplier_uid]").val(items["UID"]); $("#F__ID input[name=Supplier]").val(get_client_info(items.record)); }
			var autocomplete_list_1 = function (records) {
				var items = [];
				for (var i = 0; i < records.length; i++) {
					var obj = {};
					obj.label = get_name(records[i]);
					obj['UID'] = records[i].UID;
					obj['record'] = records[i];
					items.push(obj);
				}
				return items;
			}
			var wait1 = function () {
				$vm.autocomplete($('#Supplier__ID'), autocomplete_req_1, autocomplete_list_1, autocomplete_callback_1);
			}
			var I = 0; var loop_1 = setInterval(function () {
				if ($vm['jquery-ui-min-js'] != undefined) { clearInterval(loop_1); wait1(); }
				I++; if (I > 50) { clearInterval(loop_1); alert("jquery-ui.min.js is not installed."); }
			}, 100);

			//-------------------------------------

		}
	</script>
	<style>
		/*VmInclude: '__HOST__/assets/css/form-item-a.01.css'*/
		/*VmInclude:__HOST__/assets/css/wapp-form.css*/
	</style>
</div>