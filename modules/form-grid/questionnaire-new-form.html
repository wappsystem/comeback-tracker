<div id=D__ID>
    <!--third html start -->
    <div class="container mt-95">
        <!-- form container start -->
        <div class="formbox">
            <!-- form start -->
            <form id="F__ID">
                <span id=title__ID></span>
                <!-- People name and study id -->
                <div id="People_div__ID">
                    <div class="formgroup">
                        <fieldset class="grid-container-2">
                            <div>
                                <label><span class="question">People</span>
                                    <input type=text name="First_Name" class=formcontrol id=First_Name__ID />
                                </label>
                            </div>
                            <div>
                                <label><span class="question">People ID</span>
                                    <input type=text name="People_uid" class=formcontrol readonly />
                                </label>
                            </div>
                        </fieldset>
                    </div>
                </div>
                <div class="formgroup">
                    <div class="questiongroup">
                        <fieldset class="grid-container-1">
                            <div>
                                <label><span class="question">Entry Time</span>
                                    <input class="formcontrol" type="text" name="Entry_time">
                                </label>
                            </div>
                        </fieldset>
                    </div>
                </div>
                <div class="formgroup">
                    <fieldset>
                        <div class="grid-container-1">
                            <div><span class="question">MEALS CONSUMED | small - moderate - big</span></div>
                            <div>
                                <input type="checkbox" id="MEALS_Breakfast__ID" >
                                <label class="rd_btn width_btn_full" for="MEALS_Breakfast__ID"><span class="ticked">&check;&nbsp;</span>Breakfast</label>
                            </div>
                            <div id="Breakfast_div__ID" class="formgroup" style="display: none;">
                                <div class="grid-container-3-special"><!--<span class="question tab">Intensity of feeling</span>-->
                                    <div>
                                        <input id="Breakfast_1__ID" name="MEALS_Breakfast" type="radio" value="1.0">
                                        <label class="rd_btn width_10" for="Breakfast_1__ID">+</label>
                                    </div>
                                    <div>
                                        <input id="Breakfast_2__ID" name="MEALS_Breakfast" type="radio" value="2.0">
                                        <label class="rd_btn width_10" for="Breakfast_2__ID">++</label>
                                    </div>
                                    <div>
                                        <input id="Breakfast_3__ID" name="MEALS_Breakfast" type="radio" value="3.0">
                                        <label class="rd_btn width_10" for="Breakfast_3__ID">+++</label>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <input type="checkbox" id="MEALS_Morning_Snack__ID" >
                                <label class="rd_btn width_btn_full" for="MEALS_Morning_Snack__ID"><span class="ticked">&check;&nbsp;</span>Morning - Snack</label>
                            </div>
                            <div id="Morning_Snack_div__ID" class="formgroup" style="display: none;">
                                <div class="grid-container-3-special"><!--<span class="question tab">Intensity of feeling</span>-->
                                    <div>
                                        <input id="Morning_Snack_1__ID" name="MEALS_Morning_Snack" type="radio" value="1.0">
                                        <label class="rd_btn width_10" for="Morning_Snack_1__ID">+</label>
                                    </div>
                                    <div>
                                        <input id="Morning_Snack_2__ID" name="MEALS_Morning_Snack" type="radio" value="2.0">
                                        <label class="rd_btn width_10" for="Morning_Snack_2__ID">++</label>
                                    </div>
                                    <div>
                                        <input id="Morning_Snack_3__ID" name="MEALS_Morning_Snack" type="radio" value="3.0">
                                        <label class="rd_btn width_10" for="Morning_Snack_3__ID">+++</label>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <input type="checkbox" id="MEALS_Lunch__ID" >
                                <label class="rd_btn width_btn_full" for="MEALS_Lunch__ID"><span class="ticked">&check;&nbsp;</span>Lunch</label>
                            </div>
                            <div id="Lunch_div__ID" class="formgroup" style="display: none;">
                                <div class="grid-container-3-special"><!--<span class="question tab">Intensity of feeling</span>-->
                                    <div>
                                        <input id="Lunch_1__ID" name="MEALS_Lunch" type="radio" value="1.0">
                                        <label class="rd_btn width_10" for="Lunch_1__ID">+</label>
                                    </div>
                                    <div>
                                        <input id="Lunch_2__ID" name="MEALS_Lunch" type="radio" value="2.0">
                                        <label class="rd_btn width_10" for="Lunch_2__ID">++</label>
                                    </div>
                                    <div>
                                        <input id="Lunch_3__ID" name="MEALS_Lunch" type="radio" value="3.0">
                                        <label class="rd_btn width_10" for="Lunch_3__ID">+++</label>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <input type="checkbox" id="MEALS_Afternoon_Snack__ID" >
                                <label class="rd_btn width_btn_full" for="MEALS_Afternoon_Snack__ID"><span class="ticked">&check;&nbsp;</span>Afternoon - Snack</label>
                            </div>
                            <div id="Afternoon_Snack_div__ID" class="formgroup" style="display: none;">
                                <div class="grid-container-3-special"><!--<span class="question tab">Intensity of feeling</span>-->
                                    <div>
                                        <input id="Afternoon_Snack_1__ID" name="MEALS_Afternoon_Snack" type="radio" value="1.0">
                                        <label class="rd_btn width_10" for="Afternoon_Snack_1__ID">+</label>
                                    </div>
                                    <div>
                                        <input id="Afternoon_Snack_2__ID" name="MEALS_Afternoon_Snack" type="radio" value="2.0">
                                        <label class="rd_btn width_10" for="Afternoon_Snack_2__ID">++</label>
                                    </div>
                                    <div>
                                        <input id="Afternoon_Snack_3__ID" name="MEALS_Afternoon_Snack" type="radio" value="3.0">
                                        <label class="rd_btn width_10" for="Afternoon_Snack_3__ID">+++</label>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <input type="checkbox" id="MEALS_Dinner__ID" >
                                <label class="rd_btn width_btn_full" for="MEALS_Dinner__ID"><span class="ticked">&check;&nbsp;</span>Dinner</label>
                            </div>
                            <div id="Dinner_div__ID" class="formgroup" style="display: none;">
                                <div class="grid-container-3-special"><!--<span class="question tab">Intensity of feeling</span>-->
                                    <div>
                                        <input id="Dinner_1__ID" name="MEALS_Dinner" type="radio" value="1.0">
                                        <label class="rd_btn width_10" for="Dinner_1__ID">+</label>
                                    </div>
                                    <div>
                                        <input id="Dinner_2__ID" name="MEALS_Dinner" type="radio" value="2.0">
                                        <label class="rd_btn width_10" for="Dinner_2__ID">++</label>
                                    </div>
                                    <div>
                                        <input id="Dinner_3__ID" name="MEALS_Dinner" type="radio" value="3.0">
                                        <label class="rd_btn width_10" for="Dinner_3__ID">+++</label>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <input type="checkbox" id="MEALS_Evening_Snack__ID" >
                                <label class="rd_btn width_btn_full" for="MEALS_Evening_Snack__ID"><span class="ticked">&check;&nbsp;</span>Evening - Snack</label>
                            </div>
                            <div id="Evening_Snack_div__ID" class="formgroup" style="display: none;">
                                <div class="grid-container-3-special"><!--<span class="question tab">Intensity of feeling</span>-->
                                    <div>
                                        <input id="Evening_Snack_1__ID" name="MEALS_Evening_Snack" type="radio" value="1.0">
                                        <label class="rd_btn width_10" for="Evening_Snack_1__ID">+</label>
                                    </div>
                                    <div>
                                        <input id="Evening_Snack_2__ID" name="MEALS_Evening_Snack" type="radio" value="2.0">
                                        <label class="rd_btn width_10" for="Evening_Snack_2__ID">++</label>
                                    </div>
                                    <div>
                                        <input id="Evening_Snack_3__ID" name="MEALS_Evening_Snack" type="radio" value="3.0">
                                        <label class="rd_btn width_10" for="Evening_Snack_3__ID">+++</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </div>
                <div class="formgroup">
                    <fieldset>
                        <div class="grid-container-1">
                            <div><span class="question">ACTIVITY |  some (0-1h) -  substantial (1-2h) - a lot (+2h)</span></div>
                            <div>
                                <input type="checkbox" id="ACTIVITY_Walking__ID" >
                                <label class="rd_btn width_btn_full" for="ACTIVITY_Walking__ID"><span class="ticked">&check;&nbsp;</span>Walking - Movement (not exhausting)</label>
                            </div>
                            <div id="Walking_div__ID" class="formgroup" style="display: none;">
                                <div class="grid-container-3-special"><!--<span class="question tab">Intensity of feeling</span>-->
                                    <div>
                                        <input id="Walking_1__ID" name="ACTIVITY_Walking" type="radio" value="1.0">
                                        <label class="rd_btn width_10" for="Walking_1__ID">+</label>
                                    </div>
                                    <div>
                                        <input id="Walking_2__ID" name="ACTIVITY_Walking" type="radio" value="2.0">
                                        <label class="rd_btn width_10" for="Walking_2__ID">++</label>
                                    </div>
                                    <div>
                                        <input id="Walking_3__ID" name="ACTIVITY_Walking" type="radio" value="3.0">
                                        <label class="rd_btn width_10" for="Walking_3__ID">+++</label>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <input type="checkbox" id="ACTIVITY_Running__ID" >
                                <label class="rd_btn width_btn_full" for="ACTIVITY_Running__ID"><span class="ticked">&check;&nbsp;</span>Running - Sport - Gym (exhausting)</label>
                            </div>
                            <div id="Running_div__ID" class="formgroup" style="display: none;">
                                <div class="grid-container-3-special"><!--<span class="question tab">Intensity of feeling</span>-->
                                    <div>
                                        <input id="Running_1__ID" name="ACTIVITY_Running" type="radio" value="1.0">
                                        <label class="rd_btn width_10" for="Running_1__ID">+</label>
                                    </div>
                                    <div>
                                        <input id="Running_2__ID" name="ACTIVITY_Running" type="radio" value="2.0">
                                        <label class="rd_btn width_10" for="Running_2__ID">++</label>
                                    </div>
                                    <div>
                                        <input id="Running_3__ID" name="ACTIVITY_Running" type="radio" value="3.0">
                                        <label class="rd_btn width_10" for="Running_3__ID">+++</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </div>
                <div class="formgroup right">
                    <button type="submit" id="submit__ID" class="btn">Submit</button>
                </div>
            </form>
        </div>
    </div>
    <script>
        function F__ID() {
            //-------------------------------------
            VmInclude: '__HOST__/assets/js/form.01.js'
            VmInclude: '__HOST__/assets/js/shared-form.js'
            //-------------------------------------
            var entry_date;
            var load2 = m.load;
            m.load = function () {
                load2();
                //console.log("AAA: "+$vm.module_list[m].Table)
                //console.log(JSON.stringify(m.Table));
                if(m.input.record==undefined){
                    jQuery.ajaxSetup({async:false});
                    $vm.request({cmd:"find-s",table:m.Table,skip:0,limit:1},function(res){
                        if(res.permission==false){
                            alert("No permission");
                            return;
                        }
                        if(res.result.length==0){
                        }
                        else{
                            //console.log("Query")
                            //console.log(JSON.stringify(res.result[0]))
                            $vm.deserialize(res.result[0],'#F__ID');
                            show_previous_value()
                        }
                    })
                    jQuery.ajaxSetup({async:true});
                }
                else{
                    show_previous_value()
                }
                var date_time = new Date()
                var tm = date_time.toTimeString().substring(0, 8);
                var mm = date_time.getMonth() + 1; // getMonth() is zero-based
                var dd = date_time.getDate();
                var dt = [date_time.getFullYear(), (mm > 9 ? '' : '0') + mm, (dd > 9 ? '' : '0') + dd].join('-');
                entry_date=dt;
                //console.log(dt+' '+tm); 
                $('#F__ID input[name=Entry_time]').val(dt + ' ' + tm);
                var who=$('#F__ID input[name=First_Name]').val();
                $("#title__ID").text($("#title__ID").text()+ ' for '+who)
            }
            //-------------------------------------
            var show_previous_value=function(){
                //-------------------------------------
                if($('#F__ID input[name=MEALS_Breakfast]:checked').val()!="0" && $('#F__ID input[name=MEALS_Breakfast]:checked').val()!=undefined){
                    $('#Breakfast_div__ID').show();
                    $('#MEALS_Breakfast__ID').prop('checked', true);
                }
                //-------------------------------------
                if($('#F__ID input[name=MEALS_Morning_Snack]:checked').val()!="0" && $('#F__ID input[name=MEALS_Morning_Snack]:checked').val()!=undefined){
                    $('#Morning_Snack_div__ID').show();
                    $('#MEALS_Morning_Snack__ID').prop('checked', true);
                }
                //-------------------------------------
                if($('#F__ID input[name=MEALS_Lunch]:checked').val()!="0" && $('#F__ID input[name=MEALS_Lunch]:checked').val()!=undefined){
                    $('#Lunch_div__ID').show();
                    $('#MEALS_Lunch__ID').prop('checked', true);
                }
                //-------------------------------------
                if($('#F__ID input[name=MEALS_Afternoon_Snack]:checked').val()!="0" && $('#F__ID input[name=MEALS_Afternoon_Snack]:checked').val()!=undefined){
                    $('#Afternoon_Snack_div__ID').show();
                    $('#MEALS_Afternoon_Snack__ID').prop('checked', true);
                }
                //-------------------------------------
                if($('#F__ID input[name=MEALS_Dinner]:checked').val()!="0" && $('#F__ID input[name=MEALS_Dinner]:checked').val()!=undefined){
                    $('#Dinner_div__ID').show();
                    $('#MEALS_Dinner__ID').prop('checked', true);
                }
                //-------------------------------------
                if($('#F__ID input[name=MEALS_Evening_Snack]:checked').val()!="0" && $('#F__ID input[name=MEALS_Evening_Snack]:checked').val()!=undefined){
                    $('#Evening_Snack_div__ID').show();
                    $('#MEALS_Evening_Snack__ID').prop('checked', true);
                }
                //-------------------------------------
                if($('#F__ID input[name=ACTIVITY_Walking]:checked').val()!="0" && $('#F__ID input[name=ACTIVITY_Walking]:checked').val()!=undefined){
                    $('#Walking_div__ID').show();
                    $('#ACTIVITY_Walking__ID').prop('checked', true);
                }
                //-------------------------------------
                if($('#F__ID input[name=ACTIVITY_Running]:checked').val()!="0" && $('#F__ID input[name=ACTIVITY_Running]:checked').val()!=undefined){
                    $('#Running_div__ID').show();
                    $('#ACTIVITY_Running__ID').prop('checked', true);
                }
            }
            //-------------------------------------
            $('#MEALS_Breakfast__ID').on('change',function(){
                if($('#MEALS_Breakfast__ID').is(":checked")){
                    $('#Breakfast_div__ID').show();
                }
                else{
                    $('#Breakfast_div__ID').hide();
                    $('#F__ID input[name=MEALS_Breakfast][value="1.0"]').prop('checked',false);
                    $('#F__ID input[name=MEALS_Breakfast][value="2.0"]').prop('checked',false);
                    $('#F__ID input[name=MEALS_Breakfast][value="3.0"]').prop('checked',false);
                }
            })
            //-------------------------------------
            $('#MEALS_Morning_Snack__ID').on('change',function(){
                if($('#MEALS_Morning_Snack__ID').is(":checked")){
                    $('#Morning_Snack_div__ID').show();
                }
                else{
                    $('#Morning_Snack_div__ID').hide();
                    $('#F__ID input[name=MEALS_Morning_Snack][value="1.0"]').prop('checked',false);
                    $('#F__ID input[name=MEALS_Morning_Snack][value="2.0"]').prop('checked',false);
                    $('#F__ID input[name=MEALS_Morning_Snack][value="3.0"]').prop('checked',false);
                }
            })
            //-------------------------------------
            $('#MEALS_Lunch__ID').on('change',function(){
                if($('#MEALS_Lunch__ID').is(":checked")){
                    $('#Lunch_div__ID').show();
                }
                else{
                    $('#Lunch_div__ID').hide();
                    $('#F__ID input[name=MEALS_Lunch][value="1.0"]').prop('checked',false);
                    $('#F__ID input[name=MEALS_Lunch][value="2.0"]').prop('checked',false);
                    $('#F__ID input[name=MEALS_Lunch][value="3.0"]').prop('checked',false);
                }
            })
            //-------------------------------------
            $('#MEALS_Afternoon_Snack__ID').on('change',function(){
                if($('#MEALS_Afternoon_Snack__ID').is(":checked")){
                    $('#Afternoon_Snack_div__ID').show();
                }
                else{
                    $('#Afternoon_Snack_div__ID').hide();
                    $('#F__ID input[name=MEALS_Afternoon_Snack][value="1.0"]').prop('checked',false);
                    $('#F__ID input[name=MEALS_Afternoon_Snack][value="2.0"]').prop('checked',false);
                    $('#F__ID input[name=MEALS_Afternoon_Snack][value="3.0"]').prop('checked',false);
                }
            })
            //-------------------------------------
            $('#MEALS_Dinner__ID').on('change',function(){
                if($('#MEALS_Dinner__ID').is(":checked")){
                    $('#Dinner_div__ID').show();
                }
                else{
                    $('#Dinner_div__ID').hide();
                    $('#F__ID input[name=MEALS_Dinner][value="1.0"]').prop('checked',false);
                    $('#F__ID input[name=MEALS_Dinner][value="2.0"]').prop('checked',false);
                    $('#F__ID input[name=MEALS_Dinner][value="3.0"]').prop('checked',false);
                }
            })
            //-------------------------------------
            $('#MEALS_Evening_Snack__ID').on('change',function(){
                if($('#MEALS_Evening_Snack__ID').is(":checked")){
                    $('#Evening_Snack_div__ID').show();
                }
                else{
                    $('#Evening_Snack_div__ID').hide();
                    $('#F__ID input[name=MEALS_Evening_Snack][value="1.0"]').prop('checked',false);
                    $('#F__ID input[name=MEALS_Evening_Snack][value="2.0"]').prop('checked',false);
                    $('#F__ID input[name=MEALS_Evening_Snack][value="3.0"]').prop('checked',false);
                }
            })
            //-------------------------------------
            $('#ACTIVITY_Walking__ID').on('change',function(){
                if($('#ACTIVITY_Walking__ID').is(":checked")){
                    $('#Walking_div__ID').show();
                }
                else{
                    $('#Walking_div__ID').hide();
                    $('#F__ID input[name=ACTIVITY_Walking][value="1.0"]').prop('checked',false);
                    $('#F__ID input[name=ACTIVITY_Walking][value="2.0"]').prop('checked',false);
                    $('#F__ID input[name=ACTIVITY_Walking][value="3.0"]').prop('checked',false);
                }
            })
            //-------------------------------------
            $('#ACTIVITY_Running__ID').on('change',function(){
                if($('#ACTIVITY_Running__ID').is(":checked")){
                    $('#Running_div__ID').show();
                }
                else{
                    $('#Running_div__ID').hide();
                    $('#F__ID input[name=ACTIVITY_Running][value="1.0"]').prop('checked',false);
                    $('#F__ID input[name=ACTIVITY_Running][value="2.0"]').prop('checked',false);
                    $('#F__ID input[name=ACTIVITY_Running][value="3.0"]').prop('checked',false);
                }
            })
            //-------------------------------------
            var before_submit=m.before_submit;
            m.before_submit = function (data, index) {
                if(data.MEALS_Breakfast=="" || data.MEALS_Breakfast==undefined) data.MEALS_Breakfast="0"
                if(data.MEALS_Morning_Snack=="" || data.MEALS_Morning_Snack==undefined) data.MEALS_Morning_Snack="0"
                if(data.MEALS_Lunch=="" || data.MEALS_Lunch==undefined) data.MEALS_Lunch="0"
                if(data.MEALS_Afternoon_Snack=="" || data.MEALS_Afternoon_Snack==undefined) data.MEALS_Afternoon_Snack="0"
                if(data.MEALS_Dinner=="" || data.MEALS_Dinner==undefined) data.MEALS_Dinner="0"
                if(data.MEALS_Evening_Snack=="" || data.MEALS_Evening_Snack==undefined) data.MEALS_Evening_Snack="0"
				data.MEALS=(parseFloat(data.MEALS_Breakfast)+parseFloat(data.MEALS_Morning_Snack)+parseFloat(data.MEALS_Lunch)+parseFloat(data.MEALS_Afternoon_Snack)+parseFloat(data.MEALS_Dinner)+parseFloat(data.MEALS_Evening_Snack)).toFixed(2);
                if(data.ACTIVITY_Walking=="" || data.ACTIVITY_Walking==undefined) data.ACTIVITY_Walking="0"
                if(data.ACTIVITY_Running=="" || data.ACTIVITY_Running==undefined) data.ACTIVITY_Running="0"
				data.ACTIVITY=(parseFloat(data.ACTIVITY_Walking)+parseFloat(data.ACTIVITY_Running)).toFixed(2);
                console.log(JSON.stringify(data))
                index.I2=entry_date;
                return before_submit(data,index);
            }

        }
    </script>
    <style>
        /*VmInclude:__HOST__/assets/css/wapp-form-quest.css*/
    </style>
</div>